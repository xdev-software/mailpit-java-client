/*
 * Mailpit API
 * OpenAPI 2.0 documentation for [Mailpit](https://github.com/axllent/mailpit).
 *
 * The version of the OpenAPI document: v1
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


package software.xdev.mailpit.model;

import java.util.Objects;
import java.util.Arrays;
import java.util.Locale;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonCreator;
import com.fasterxml.jackson.annotation.JsonTypeName;
import com.fasterxml.jackson.annotation.JsonValue;
import java.time.OffsetDateTime;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import software.xdev.mailpit.model.Address;
import com.fasterxml.jackson.annotation.JsonPropertyOrder;
import com.fasterxml.jackson.annotation.JsonTypeName;
import java.io.UnsupportedEncodingException;
import java.net.URLEncoder;
import java.util.StringJoiner;

/**
 * MessageSummary struct for frontend messages
 */
@JsonPropertyOrder({
  MessageSummary.JSON_PROPERTY_ATTACHMENTS,
  MessageSummary.JSON_PROPERTY_BCC,
  MessageSummary.JSON_PROPERTY_CC,
  MessageSummary.JSON_PROPERTY_CREATED,
  MessageSummary.JSON_PROPERTY_FROM,
  MessageSummary.JSON_PROPERTY_I_D,
  MessageSummary.JSON_PROPERTY_MESSAGE_I_D,
  MessageSummary.JSON_PROPERTY_READ,
  MessageSummary.JSON_PROPERTY_REPLY_TO,
  MessageSummary.JSON_PROPERTY_SIZE,
  MessageSummary.JSON_PROPERTY_SNIPPET,
  MessageSummary.JSON_PROPERTY_SUBJECT,
  MessageSummary.JSON_PROPERTY_TAGS,
  MessageSummary.JSON_PROPERTY_TO,
  MessageSummary.JSON_PROPERTY_USERNAME
})
public class MessageSummary {
  public static final String JSON_PROPERTY_ATTACHMENTS = "Attachments";
  @jakarta.annotation.Nullable
  private Long attachments;

  public static final String JSON_PROPERTY_BCC = "Bcc";
  @jakarta.annotation.Nullable
  private List<Address> bcc = new ArrayList<>();

  public static final String JSON_PROPERTY_CC = "Cc";
  @jakarta.annotation.Nullable
  private List<Address> cc = new ArrayList<>();

  public static final String JSON_PROPERTY_CREATED = "Created";
  @jakarta.annotation.Nullable
  private OffsetDateTime created;

  public static final String JSON_PROPERTY_FROM = "From";
  @jakarta.annotation.Nullable
  private Address from;

  public static final String JSON_PROPERTY_I_D = "ID";
  @jakarta.annotation.Nullable
  private String ID;

  public static final String JSON_PROPERTY_MESSAGE_I_D = "MessageID";
  @jakarta.annotation.Nullable
  private String messageID;

  public static final String JSON_PROPERTY_READ = "Read";
  @jakarta.annotation.Nullable
  private Boolean read;

  public static final String JSON_PROPERTY_REPLY_TO = "ReplyTo";
  @jakarta.annotation.Nullable
  private List<Address> replyTo = new ArrayList<>();

  public static final String JSON_PROPERTY_SIZE = "Size";
  @jakarta.annotation.Nullable
  private Integer size;

  public static final String JSON_PROPERTY_SNIPPET = "Snippet";
  @jakarta.annotation.Nullable
  private String snippet;

  public static final String JSON_PROPERTY_SUBJECT = "Subject";
  @jakarta.annotation.Nullable
  private String subject;

  public static final String JSON_PROPERTY_TAGS = "Tags";
  @jakarta.annotation.Nullable
  private List<String> tags = new ArrayList<>();

  public static final String JSON_PROPERTY_TO = "To";
  @jakarta.annotation.Nullable
  private List<Address> to = new ArrayList<>();

  public static final String JSON_PROPERTY_USERNAME = "Username";
  @jakarta.annotation.Nullable
  private String username;

  public MessageSummary() {
  }

  public MessageSummary attachments(@jakarta.annotation.Nullable Long attachments) {
    
    this.attachments = attachments;
    return this;
  }

  /**
   * Whether the message has any attachments
   * @return attachments
   */
  @jakarta.annotation.Nullable
  @JsonProperty(value = JSON_PROPERTY_ATTACHMENTS, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)

  public Long getAttachments() {
    return attachments;
  }


  @JsonProperty(value = JSON_PROPERTY_ATTACHMENTS, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)
  public void setAttachments(@jakarta.annotation.Nullable Long attachments) {
    this.attachments = attachments;
  }

  public MessageSummary bcc(@jakarta.annotation.Nullable List<Address> bcc) {
    
    this.bcc = bcc;
    return this;
  }

  public MessageSummary addBccItem(Address bccItem) {
    if (this.bcc == null) {
      this.bcc = new ArrayList<>();
    }
    this.bcc.add(bccItem);
    return this;
  }

  /**
   * Bcc addresses
   * @return bcc
   */
  @jakarta.annotation.Nullable
  @JsonProperty(value = JSON_PROPERTY_BCC, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)

  public List<Address> getBcc() {
    return bcc;
  }


  @JsonProperty(value = JSON_PROPERTY_BCC, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)
  public void setBcc(@jakarta.annotation.Nullable List<Address> bcc) {
    this.bcc = bcc;
  }

  public MessageSummary cc(@jakarta.annotation.Nullable List<Address> cc) {
    
    this.cc = cc;
    return this;
  }

  public MessageSummary addCcItem(Address ccItem) {
    if (this.cc == null) {
      this.cc = new ArrayList<>();
    }
    this.cc.add(ccItem);
    return this;
  }

  /**
   * Cc addresses
   * @return cc
   */
  @jakarta.annotation.Nullable
  @JsonProperty(value = JSON_PROPERTY_CC, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)

  public List<Address> getCc() {
    return cc;
  }


  @JsonProperty(value = JSON_PROPERTY_CC, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)
  public void setCc(@jakarta.annotation.Nullable List<Address> cc) {
    this.cc = cc;
  }

  public MessageSummary created(@jakarta.annotation.Nullable OffsetDateTime created) {
    
    this.created = created;
    return this;
  }

  /**
   * Received RFC3339Nano date &amp; time ([extended RFC3339](https://tools.ietf.org/html/rfc3339#section-5.6) format with optional nano seconds)
   * @return created
   */
  @jakarta.annotation.Nullable
  @JsonProperty(value = JSON_PROPERTY_CREATED, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)

  public OffsetDateTime getCreated() {
    return created;
  }


  @JsonProperty(value = JSON_PROPERTY_CREATED, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)
  public void setCreated(@jakarta.annotation.Nullable OffsetDateTime created) {
    this.created = created;
  }

  public MessageSummary from(@jakarta.annotation.Nullable Address from) {
    
    this.from = from;
    return this;
  }

  /**
   * Get from
   * @return from
   */
  @jakarta.annotation.Nullable
  @JsonProperty(value = JSON_PROPERTY_FROM, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)

  public Address getFrom() {
    return from;
  }


  @JsonProperty(value = JSON_PROPERTY_FROM, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)
  public void setFrom(@jakarta.annotation.Nullable Address from) {
    this.from = from;
  }

  public MessageSummary ID(@jakarta.annotation.Nullable String ID) {
    
    this.ID = ID;
    return this;
  }

  /**
   * Database ID
   * @return ID
   */
  @jakarta.annotation.Nullable
  @JsonProperty(value = JSON_PROPERTY_I_D, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)

  public String getID() {
    return ID;
  }


  @JsonProperty(value = JSON_PROPERTY_I_D, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)
  public void setID(@jakarta.annotation.Nullable String ID) {
    this.ID = ID;
  }

  public MessageSummary messageID(@jakarta.annotation.Nullable String messageID) {
    
    this.messageID = messageID;
    return this;
  }

  /**
   * Message ID
   * @return messageID
   */
  @jakarta.annotation.Nullable
  @JsonProperty(value = JSON_PROPERTY_MESSAGE_I_D, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)

  public String getMessageID() {
    return messageID;
  }


  @JsonProperty(value = JSON_PROPERTY_MESSAGE_I_D, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)
  public void setMessageID(@jakarta.annotation.Nullable String messageID) {
    this.messageID = messageID;
  }

  public MessageSummary read(@jakarta.annotation.Nullable Boolean read) {
    
    this.read = read;
    return this;
  }

  /**
   * Read status
   * @return read
   */
  @jakarta.annotation.Nullable
  @JsonProperty(value = JSON_PROPERTY_READ, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)

  public Boolean getRead() {
    return read;
  }


  @JsonProperty(value = JSON_PROPERTY_READ, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)
  public void setRead(@jakarta.annotation.Nullable Boolean read) {
    this.read = read;
  }

  public MessageSummary replyTo(@jakarta.annotation.Nullable List<Address> replyTo) {
    
    this.replyTo = replyTo;
    return this;
  }

  public MessageSummary addReplyToItem(Address replyToItem) {
    if (this.replyTo == null) {
      this.replyTo = new ArrayList<>();
    }
    this.replyTo.add(replyToItem);
    return this;
  }

  /**
   * Reply-To address
   * @return replyTo
   */
  @jakarta.annotation.Nullable
  @JsonProperty(value = JSON_PROPERTY_REPLY_TO, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)

  public List<Address> getReplyTo() {
    return replyTo;
  }


  @JsonProperty(value = JSON_PROPERTY_REPLY_TO, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)
  public void setReplyTo(@jakarta.annotation.Nullable List<Address> replyTo) {
    this.replyTo = replyTo;
  }

  public MessageSummary size(@jakarta.annotation.Nullable Integer size) {
    
    this.size = size;
    return this;
  }

  /**
   * Message size in bytes (total)
   * @return size
   */
  @jakarta.annotation.Nullable
  @JsonProperty(value = JSON_PROPERTY_SIZE, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)

  public Integer getSize() {
    return size;
  }


  @JsonProperty(value = JSON_PROPERTY_SIZE, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)
  public void setSize(@jakarta.annotation.Nullable Integer size) {
    this.size = size;
  }

  public MessageSummary snippet(@jakarta.annotation.Nullable String snippet) {
    
    this.snippet = snippet;
    return this;
  }

  /**
   * Message snippet includes up to 250 characters
   * @return snippet
   */
  @jakarta.annotation.Nullable
  @JsonProperty(value = JSON_PROPERTY_SNIPPET, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)

  public String getSnippet() {
    return snippet;
  }


  @JsonProperty(value = JSON_PROPERTY_SNIPPET, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)
  public void setSnippet(@jakarta.annotation.Nullable String snippet) {
    this.snippet = snippet;
  }

  public MessageSummary subject(@jakarta.annotation.Nullable String subject) {
    
    this.subject = subject;
    return this;
  }

  /**
   * Email subject
   * @return subject
   */
  @jakarta.annotation.Nullable
  @JsonProperty(value = JSON_PROPERTY_SUBJECT, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)

  public String getSubject() {
    return subject;
  }


  @JsonProperty(value = JSON_PROPERTY_SUBJECT, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)
  public void setSubject(@jakarta.annotation.Nullable String subject) {
    this.subject = subject;
  }

  public MessageSummary tags(@jakarta.annotation.Nullable List<String> tags) {
    
    this.tags = tags;
    return this;
  }

  public MessageSummary addTagsItem(String tagsItem) {
    if (this.tags == null) {
      this.tags = new ArrayList<>();
    }
    this.tags.add(tagsItem);
    return this;
  }

  /**
   * Message tags
   * @return tags
   */
  @jakarta.annotation.Nullable
  @JsonProperty(value = JSON_PROPERTY_TAGS, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)

  public List<String> getTags() {
    return tags;
  }


  @JsonProperty(value = JSON_PROPERTY_TAGS, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)
  public void setTags(@jakarta.annotation.Nullable List<String> tags) {
    this.tags = tags;
  }

  public MessageSummary to(@jakarta.annotation.Nullable List<Address> to) {
    
    this.to = to;
    return this;
  }

  public MessageSummary addToItem(Address toItem) {
    if (this.to == null) {
      this.to = new ArrayList<>();
    }
    this.to.add(toItem);
    return this;
  }

  /**
   * To address
   * @return to
   */
  @jakarta.annotation.Nullable
  @JsonProperty(value = JSON_PROPERTY_TO, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)

  public List<Address> getTo() {
    return to;
  }


  @JsonProperty(value = JSON_PROPERTY_TO, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)
  public void setTo(@jakarta.annotation.Nullable List<Address> to) {
    this.to = to;
  }

  public MessageSummary username(@jakarta.annotation.Nullable String username) {
    
    this.username = username;
    return this;
  }

  /**
   * Username used for authentication (if provided) with the SMTP or Send API
   * @return username
   */
  @jakarta.annotation.Nullable
  @JsonProperty(value = JSON_PROPERTY_USERNAME, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)

  public String getUsername() {
    return username;
  }


  @JsonProperty(value = JSON_PROPERTY_USERNAME, required = false)
  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)
  public void setUsername(@jakarta.annotation.Nullable String username) {
    this.username = username;
  }

  @Override
  public boolean equals(Object o) {
    if (this == o) {
      return true;
    }
    if (o == null || getClass() != o.getClass()) {
      return false;
    }
    MessageSummary messageSummary = (MessageSummary) o;
    return Objects.equals(this.attachments, messageSummary.attachments) &&
        Objects.equals(this.bcc, messageSummary.bcc) &&
        Objects.equals(this.cc, messageSummary.cc) &&
        Objects.equals(this.created, messageSummary.created) &&
        Objects.equals(this.from, messageSummary.from) &&
        Objects.equals(this.ID, messageSummary.ID) &&
        Objects.equals(this.messageID, messageSummary.messageID) &&
        Objects.equals(this.read, messageSummary.read) &&
        Objects.equals(this.replyTo, messageSummary.replyTo) &&
        Objects.equals(this.size, messageSummary.size) &&
        Objects.equals(this.snippet, messageSummary.snippet) &&
        Objects.equals(this.subject, messageSummary.subject) &&
        Objects.equals(this.tags, messageSummary.tags) &&
        Objects.equals(this.to, messageSummary.to) &&
        Objects.equals(this.username, messageSummary.username);
  }

  @Override
  public int hashCode() {
    return Objects.hash(attachments, bcc, cc, created, from, ID, messageID, read, replyTo, size, snippet, subject, tags, to, username);
  }

  @Override
  public String toString() {
    StringBuilder sb = new StringBuilder();
    sb.append("class MessageSummary {\n");
    sb.append("    attachments: ").append(toIndentedString(attachments)).append("\n");
    sb.append("    bcc: ").append(toIndentedString(bcc)).append("\n");
    sb.append("    cc: ").append(toIndentedString(cc)).append("\n");
    sb.append("    created: ").append(toIndentedString(created)).append("\n");
    sb.append("    from: ").append(toIndentedString(from)).append("\n");
    sb.append("    ID: ").append(toIndentedString(ID)).append("\n");
    sb.append("    messageID: ").append(toIndentedString(messageID)).append("\n");
    sb.append("    read: ").append(toIndentedString(read)).append("\n");
    sb.append("    replyTo: ").append(toIndentedString(replyTo)).append("\n");
    sb.append("    size: ").append(toIndentedString(size)).append("\n");
    sb.append("    snippet: ").append(toIndentedString(snippet)).append("\n");
    sb.append("    subject: ").append(toIndentedString(subject)).append("\n");
    sb.append("    tags: ").append(toIndentedString(tags)).append("\n");
    sb.append("    to: ").append(toIndentedString(to)).append("\n");
    sb.append("    username: ").append(toIndentedString(username)).append("\n");
    sb.append("}");
    return sb.toString();
  }

  /**
   * Convert the given object to string with each line indented by 4 spaces
   * (except the first line).
   */
  private String toIndentedString(Object o) {
    if (o == null) {
      return "null";
    }
    return o.toString().replace("\n", "\n    ");
  }

  /**
   * Convert the instance into URL query string.
   *
   * @return URL query string
   */
  public String toUrlQueryString() {
    return toUrlQueryString(null);
  }

  /**
   * Convert the instance into URL query string.
   *
   * @param prefix prefix of the query string
   * @return URL query string
   */
  public String toUrlQueryString(String prefix) {
    String suffix = "";
    String containerSuffix = "";
    String containerPrefix = "";
    if (prefix == null) {
      // style=form, explode=true, e.g. /pet?name=cat&type=manx
      prefix = "";
    } else {
      // deepObject style e.g. /pet?id[name]=cat&id[type]=manx
      prefix = prefix + "[";
      suffix = "]";
      containerSuffix = "]";
      containerPrefix = "[";
    }

    StringJoiner joiner = new StringJoiner("&");

    // add `Attachments` to the URL query string
    if (getAttachments() != null) {
      try {
        joiner.add(String.format(Locale.ROOT, "%sAttachments%s=%s", prefix, suffix, URLEncoder.encode(String.valueOf(getAttachments()), "UTF-8").replaceAll("\\+", "%20")));
      } catch (UnsupportedEncodingException e) {
        // Should never happen, UTF-8 is always supported
        throw new RuntimeException(e);
      }
    }

    // add `Bcc` to the URL query string
    if (getBcc() != null) {
      for (int i = 0; i < getBcc().size(); i++) {
        if (getBcc().get(i) != null) {
          joiner.add(getBcc().get(i).toUrlQueryString(String.format(Locale.ROOT, "%sBcc%s%s", prefix, suffix,
              "".equals(suffix) ? "" : String.format(Locale.ROOT, "%s%d%s", containerPrefix, i, containerSuffix))));
        }
      }
    }

    // add `Cc` to the URL query string
    if (getCc() != null) {
      for (int i = 0; i < getCc().size(); i++) {
        if (getCc().get(i) != null) {
          joiner.add(getCc().get(i).toUrlQueryString(String.format(Locale.ROOT, "%sCc%s%s", prefix, suffix,
              "".equals(suffix) ? "" : String.format(Locale.ROOT, "%s%d%s", containerPrefix, i, containerSuffix))));
        }
      }
    }

    // add `Created` to the URL query string
    if (getCreated() != null) {
      try {
        joiner.add(String.format(Locale.ROOT, "%sCreated%s=%s", prefix, suffix, URLEncoder.encode(String.valueOf(getCreated()), "UTF-8").replaceAll("\\+", "%20")));
      } catch (UnsupportedEncodingException e) {
        // Should never happen, UTF-8 is always supported
        throw new RuntimeException(e);
      }
    }

    // add `From` to the URL query string
    if (getFrom() != null) {
      joiner.add(getFrom().toUrlQueryString(prefix + "From" + suffix));
    }

    // add `ID` to the URL query string
    if (getID() != null) {
      try {
        joiner.add(String.format(Locale.ROOT, "%sID%s=%s", prefix, suffix, URLEncoder.encode(String.valueOf(getID()), "UTF-8").replaceAll("\\+", "%20")));
      } catch (UnsupportedEncodingException e) {
        // Should never happen, UTF-8 is always supported
        throw new RuntimeException(e);
      }
    }

    // add `MessageID` to the URL query string
    if (getMessageID() != null) {
      try {
        joiner.add(String.format(Locale.ROOT, "%sMessageID%s=%s", prefix, suffix, URLEncoder.encode(String.valueOf(getMessageID()), "UTF-8").replaceAll("\\+", "%20")));
      } catch (UnsupportedEncodingException e) {
        // Should never happen, UTF-8 is always supported
        throw new RuntimeException(e);
      }
    }

    // add `Read` to the URL query string
    if (getRead() != null) {
      try {
        joiner.add(String.format(Locale.ROOT, "%sRead%s=%s", prefix, suffix, URLEncoder.encode(String.valueOf(getRead()), "UTF-8").replaceAll("\\+", "%20")));
      } catch (UnsupportedEncodingException e) {
        // Should never happen, UTF-8 is always supported
        throw new RuntimeException(e);
      }
    }

    // add `ReplyTo` to the URL query string
    if (getReplyTo() != null) {
      for (int i = 0; i < getReplyTo().size(); i++) {
        if (getReplyTo().get(i) != null) {
          joiner.add(getReplyTo().get(i).toUrlQueryString(String.format(Locale.ROOT, "%sReplyTo%s%s", prefix, suffix,
              "".equals(suffix) ? "" : String.format(Locale.ROOT, "%s%d%s", containerPrefix, i, containerSuffix))));
        }
      }
    }

    // add `Size` to the URL query string
    if (getSize() != null) {
      try {
        joiner.add(String.format(Locale.ROOT, "%sSize%s=%s", prefix, suffix, URLEncoder.encode(String.valueOf(getSize()), "UTF-8").replaceAll("\\+", "%20")));
      } catch (UnsupportedEncodingException e) {
        // Should never happen, UTF-8 is always supported
        throw new RuntimeException(e);
      }
    }

    // add `Snippet` to the URL query string
    if (getSnippet() != null) {
      try {
        joiner.add(String.format(Locale.ROOT, "%sSnippet%s=%s", prefix, suffix, URLEncoder.encode(String.valueOf(getSnippet()), "UTF-8").replaceAll("\\+", "%20")));
      } catch (UnsupportedEncodingException e) {
        // Should never happen, UTF-8 is always supported
        throw new RuntimeException(e);
      }
    }

    // add `Subject` to the URL query string
    if (getSubject() != null) {
      try {
        joiner.add(String.format(Locale.ROOT, "%sSubject%s=%s", prefix, suffix, URLEncoder.encode(String.valueOf(getSubject()), "UTF-8").replaceAll("\\+", "%20")));
      } catch (UnsupportedEncodingException e) {
        // Should never happen, UTF-8 is always supported
        throw new RuntimeException(e);
      }
    }

    // add `Tags` to the URL query string
    if (getTags() != null) {
      for (int i = 0; i < getTags().size(); i++) {
        try {
          joiner.add(String.format(Locale.ROOT, "%sTags%s%s=%s", prefix, suffix,
              "".equals(suffix) ? "" : String.format(Locale.ROOT, "%s%d%s", containerPrefix, i, containerSuffix),
              URLEncoder.encode(String.valueOf(getTags().get(i)), "UTF-8").replaceAll("\\+", "%20")));
        } catch (UnsupportedEncodingException e) {
          // Should never happen, UTF-8 is always supported
          throw new RuntimeException(e);
        }
      }
    }

    // add `To` to the URL query string
    if (getTo() != null) {
      for (int i = 0; i < getTo().size(); i++) {
        if (getTo().get(i) != null) {
          joiner.add(getTo().get(i).toUrlQueryString(String.format(Locale.ROOT, "%sTo%s%s", prefix, suffix,
              "".equals(suffix) ? "" : String.format(Locale.ROOT, "%s%d%s", containerPrefix, i, containerSuffix))));
        }
      }
    }

    // add `Username` to the URL query string
    if (getUsername() != null) {
      try {
        joiner.add(String.format(Locale.ROOT, "%sUsername%s=%s", prefix, suffix, URLEncoder.encode(String.valueOf(getUsername()), "UTF-8").replaceAll("\\+", "%20")));
      } catch (UnsupportedEncodingException e) {
        // Should never happen, UTF-8 is always supported
        throw new RuntimeException(e);
      }
    }

    return joiner.toString();
  }

}

